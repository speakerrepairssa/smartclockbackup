<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Location Tracking - AiClock</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    .header {
      background: white;
      padding: 20px 30px;
      border-radius: 15px;
      margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header h1 {
      color: #667eea;
      font-size: 28px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .stats-bar {
      display: flex;
      gap: 20px;
    }
    
    .stat-item {
      text-align: center;
      padding: 10px 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 10px;
      color: white;
      min-width: 100px;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: bold;
    }
    
    .stat-label {
      font-size: 12px;
      opacity: 0.9;
      margin-top: 5px;
    }
    
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    @media (max-width: 1200px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }
    
    .card {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      }
    
    .card h2 {
      color: #333;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 22px;
    }
    
    .map-container {
      width: 100%;
      height: 500px;
      background: #f0f0f0;
      border-radius: 10px;
      position: relative;
      overflow: hidden;
      border: 2px solid #e0e0e0;
    }
    
    .map-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      background:      background: linear-gradient(135deg, #667eea22 0%, #764ba222 100%);
      color: #666;
    }
    
    .map-placeholder .icon {
      font-size: 80px;
      margin-bottom: 20px;
      opacity: 0.3;
    }
    
    .employee-marker {
      position: absolute;
      width: 40px;
      height: 40px;
      background: #4CAF50;
      border-radius: 50%;
      border: 3px solid white;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }
    
    .employee-marker:hover {
      transform: scale(1.2);
      z-index: 10;
    }
    
    .employee-marker.out {
      background: #f44336;
    }
    
    .marker-tooltip {
      position: absolute;
      background: white;
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      display: none;
      white-space: nowrap;
      z-index: 100;
      font-size: 14px;
    }
    
    .employee-marker:hover + .marker-tooltip {
      display: block;
    }
    
    .employee-list {
      max-height: 500px;
      overflow-y: auto;
    }
    
    .employee-item {
      padding: 15px;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.2s;
    }
    
    .employee-item:hover {
      background: #f8f9fa;
    }
    
    .employee-info {
      display: flex;
      align-items: center;
      gap: 15px;
      flex: 1;
    }
    
    .employee-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 18px;
    }
    
    .employee-details {
      flex: 1;
    }
    
    .employee-name {
      font-weight: 600;
      color: #333;
      margin-bottom: 3px;
    }
    
    .employee-meta {
      font-size: 13px;
      color: #999;
    }
    
    .status-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
    }
    
    .status-in {
      background: #4CAF50;
      color: white;
    }
    
    .status-out {
      background: #f44336;
      color: white;
    }
    
    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
    
    .btn-outline {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }
    
    .btn-outline:hover {
      background: #667eea;
      color: white;
    }
    
    .clock-in-widget {
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
    }
    
    .clock-in-widget h3 {
      margin-bottom: 20px;
      font-size: 24px;
    }
    
    .clock-time {
      font-size: 48px;
      font-weight: bold;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
    }
    
    .clock-date {
      font-size: 18px;
      opacity: 0.9;
      margin-bottom: 30px;
    }
    
    .clock-btn {
      padding: 15px 40px;
      font-size: 18px;
      background: white;
      color: #4CAF50;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      transition: all 0.3s;
    }
    
    .clock-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    }
    
    .clock-btn.out {
      background: white;
      color: #f44336;
    }
    
    .location-info {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      font-size: 14px;
    }
    
    .filters {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      padding: 8px 16px;
      border: 2px solid #667eea;
      background: white;
      color: #667eea;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .filter-btn.active {
      background: #667eea;
      color: white;
    }
    
    .search-box {
      padding: 12px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 25px;
      font-size: 14px;
      flex: 1;
      min-width: 200px;
    }
    
    .search-box:focus {
      outline: none;
      border-color: #667eea;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>
        <span>üìç</span>
        Location Tracking
      </h1>
      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-value" id="total-employees">0</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="clocked-in">0</div>
          <div class="stat-label">Clocked In</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="on-location">0</div>
          <div class="stat-label">On Location</div>
        </div>
      </div>
    </div>

    <div class="main-grid">
      <!-- Map View -->
      <div class="card">
        <h2>
          <span>üó∫Ô∏è</span>
          Live Location Map
        </h2>
        <div class="map-container" id="map">
          <div class="map-placeholder">
            <div class="icon">üó∫Ô∏è</div>
            <p><strong>Interactive Map Loading...</strong></p>
            <p style="margin-top: 10px; font-size: 14px;">Employee locations will appear here</p>
            <button class="btn btn-primary" style="margin-top: 20px;" onclick="initializeMap()">
              üìç Enable Location Tracking
            </button>
          </div>
          <!-- Employee markers will be added dynamically -->
        </div>
        <div class="filters" style="margin-top: 20px;">
          <button class="filter-btn active" onclick="filterEmployees('all')">All</button>
          <button class="filter-btn" onclick="filterEmployees('in')">Clocked In</button>
          <button class="filter-btn" onclick="filterEmployees('out')">Clocked Out</button>
          <button class="filter-btn" onclick="filterEmployees('nearby')">Nearby</button>
        </div>
      </div>

      <!-- Clock-In Widget + Employees List -->
      <div style="display: flex; flex-direction: column; gap: 20px;">
        <!-- Quick Clock-In Widget -->
        <div class="card clock-in-widget">
          <h3>Quick Clock-In/Out</h3>
          <div class="clock-time" id="current-time">00:00:00</div>
          <div class="clock-date" id="current-date">Loading...</div>
          <button class="clock-btn" id="clock-btn" onclick="toggleClock()">
            üïê Clock In
          </button>
          <div class="location-info">
            <div><strong>üìç Your Location:</strong></div>
            <div id="user-location">Detecting...</div>
          </div>
        </div>

        <!-- Employee List -->
        <div class="card">
          <h2>
            <span>üë•</span>
            Employee Status
          </h2>
          <div class="filters">
            <input type="text" class="search-box" placeholder="üîç Search employees..." id="search-input" oninput="searchEmployees()">
          </div>
          <div class="employee-list" id="employee-list">
            <!-- Employees will be loaded here -->
            <div class="employee-item">
              <div class="employee-info">
                <div class="employee-avatar">JD</div>
                <div class="employee-details">
                  <div class="employee-name">John Doe</div>
                  <div class="employee-meta">Badge: 001 ‚Ä¢ Last seen: 2 mins ago</div>
                </div>
              </div>
              <span class="status-badge status-in">IN</span>
            </div>
            <div class="employee-item">
              <div class="employee-info">
                <div class="employee-avatar">JS</div>
                <div class="employee-details">
                  <div class="employee-name">Jane Smith</div>
                  <div class="employee-meta">Badge: 002 ‚Ä¢ Last seen: 30 mins ago</div>
                </div>
              </div>
              <span class="status-badge status-out">OUT</span>
            </div>
            <div class="employee-item">
              <div class="employee-info">
                <div class="employee-avatar">MB</div>
                <div class="employee-details">
                  <div class="employee-name">Mike Brown</div>
                  <div class="employee-meta">Badge: 003 ‚Ä¢ Last seen: 5 secs ago</div>
                </div>
              </div>
              <span class="status-badge status-in">IN</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Update clock
    function updateClock() {
      const now = new Date();
      const timeEl = document.getElementById('current-time');
      const dateEl = document.getElementById('current-date');
      
      if (timeEl) {
        timeEl.textContent = now.toLocaleTimeString('en-US', { hour12: false });
      }
      if (dateEl) {
        dateEl.textContent = now.toLocaleDateString('en-US', { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
      }
    }
    
    // Initialize - Update clock every second
    setInterval(updateClock, 1000);
    updateClock();
    
    // Get user location
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition((position) => {
        const locationEl = document.getElementById('user-location');
        if (locationEl) {
          locationEl.textContent = `Lat: ${position.coords.latitude.toFixed(4)}, Lng: ${position.coords.longitude.toFixed(4)}`;
        }
      }, (error) => {
        const locationEl = document.getElementById('user-location');
        if (locationEl) {
          locationEl.textContent = 'Location access denied';
        }
      });
    }
    
    // Clock in/out toggle
    let isClockedIn = false;
    function toggleClock() {
      const btn = document.getElementById('clock-btn');
      isClockedIn = !isClockedIn;
      
      if (isClockedIn) {
        btn.textContent = 'üö™ Clock Out';
        btn.classList.add('out');
        alert('‚úÖ Clocked In Successfully!\n' + new Date().toLocaleTimeString());
      } else {
        btn.textContent = 'üïê Clock In';
        btn.classList.remove('out');
        alert('üëã Clocked Out Successfully!\n' + new Date().toLocaleTimeString());
      }
    }
    
    // Filter employees
    function filterEmployees(filter) {
      // Update active filter button
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // Filter logic here
      console.log('Filter:', filter);
    }
    
    // Search employees
    function searchEmployees() {
      const search = document.getElementById('search-input').value.toLowerCase();
      const items = document.querySelectorAll('.employee-item');
      
      items.forEach(item => {
        const name = item.querySelector('.employee-name').textContent.toLowerCase();
        const meta = item.querySelector('.employee-meta').textContent.toLowerCase();
        
        if (name.includes(search) || meta.includes(search)) {
          item.style.display = 'flex';
        } else {
          item.style.display = 'none';
        }
      });
    }
    
    // Initialize map
    function initializeMap() {
      alert('üìç Map initialization...\n\nIn production, this would load:\n- Google Maps API\n- Employee GPS locations\n- Real-time tracking markers\n\nFor now, showing placeholder view.');
      
      // In production, integrate with Google Maps:
      // const map = new google.maps.Map(document.getElementById('map'), {
      //   center: { lat: -25.746, lng: 28.188 },
      //   zoom: 13
      // });
    }
    
    // Update stats
    function updateStats() {
      document.getElementById('total-employees').textContent = '3';
      document.getElementById('clocked-in').textContent = '2';
      document.getElementById('on-location').textContent = '2';
    }
    
    updateStats();
  </script>
</body>
</html>
